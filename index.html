<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>天气通 - 精准的天气预报服务</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome图标 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- 自定义Tailwind配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#64748b',
                        sunny: '#f97316',
                        cloudy: '#94a3b8',
                        rainy: '#64748b',
                        night: '#1e293b',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .weather-card {
                @apply bg-white/10 backdrop-blur-md rounded-xl p-4 shadow-lg border border-white/20;
            }
            .hourly-card {
                @apply flex flex-col items-center py-3 px-2 rounded-lg hover:bg-white/20 transition-colors;
            }
            .daily-card {
                @apply flex justify-between items-center py-3 px-4 rounded-lg hover:bg-white/10 transition-colors;
            }
        }
    </style>
    <style>
        /* 背景渐变根据天气动态切换 */
        body {
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            min-height: 100vh;
            color: white;
        }
        .sunny-bg {
            background: linear-gradient(135deg, #f97316, #fb923c);
        }
        .cloudy-bg {
            background: linear-gradient(135deg, #64748b, #94a3b8);
        }
        .rainy-bg {
            background: linear-gradient(135deg, #334155, #64748b);
        }
        .night-bg {
            background: linear-gradient(135deg, #0f172a, #1e293b);
        }
        /* 平滑过渡 */
        .transition-bg {
            transition: background 0.5s ease;
        }
    </style>
</head>
<body class="transition-bg font-sans">
    <!-- 导航栏 -->
    <header class="container mx-auto px-4 py-4 flex justify-between items-center">
        <div class="flex items-center">
            <i class="fa-solid fa-cloud-sun text-2xl mr-2"></i>
            <h1 class="text-xl font-bold">天气通</h1>
        </div>
        
        <!-- 搜索框 -->
        <div class="relative w-full max-w-md">
            <input 
                type="text" 
                id="city-input"
                placeholder="输入城市名称..." 
                class="w-full pl-10 pr-4 py-2 rounded-full bg-white/20 border border-white/30 focus:outline-none focus:ring-2 focus:ring-white/50 text-white placeholder-white/70"
            >
            <i class="fa-solid fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-white/70"></i>
            <button id="search-btn" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 p-1 rounded-full transition-colors">
                <i class="fa-solid fa-magnifying-glass text-white/80"></i>
            </button>
        </div>
        
        <!-- 单位切换 -->
        <div class="hidden sm:block">
            <button id="unit-toggle" class="px-3 py-1 rounded-full bg-white/20 border border-white/30 hover:bg-white/30 transition-colors">
                <span id="unit-text">°C</span>
            </button>
        </div>
    </header>

    <!-- 主要内容 -->
    <main class="container mx-auto px-4 py-6">
        <!-- 实时天气概览 -->
        <section class="mb-8">
            <div class="weather-card mb-6">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="text-center md:text-left mb-4 md:mb-0">
                        <h2 id="city-name" class="text-2xl md:text-3xl font-bold mb-1">北京市</h2>
                        <p id="current-date" class="text-white/80">2025年1月15日 星期三 14:30</p>
                    </div>
                    
                    <div class="flex items-center">
                        <i id="current-weather-icon" class="fa-solid fa-sun text-5xl md:text-6xl mr-4 text-yellow-300"></i>
                        <div>
                            <div class="flex items-baseline">
                                <span id="current-temp" class="text-5xl md:text-6xl font-bold">22</span>
                                <span class="ml-1 text-2xl">°C</span>
                            </div>
                            <p id="weather-desc" class="text-white/80 mt-1">晴 | 体感温度 24°C</p>
                        </div>
                    </div>
                </div>
                
                <!-- 天气详情指标 -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6">
                    <div class="flex flex-col items-center">
                        <i class="fa-solid fa-droplet text-xl mb-2 text-blue-300"></i>
                        <span class="text-sm text-white/70">湿度</span>
                        <span id="humidity" class="font-medium">65%</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <i class="fa-solid fa-wind text-xl mb-2 text-blue-200"></i>
                        <span class="text-sm text-white/70">风速</span>
                        <span id="wind-speed" class="font-medium">3.2 km/h</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <i class="fa-solid fa-eye text-xl mb-2 text-yellow-300"></i>
                        <span class="text-sm text-white/70">能见度</span>
                        <span id="visibility" class="font-medium">10 km</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <i class="fa-solid fa-gauge-high text-xl mb-2 text-purple-300"></i>
                        <span class="text-sm text-white/70">气压</span>
                        <span id="pressure" class="font-medium">1012 hPa</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- 小时级预报 -->
        <section class="mb-8">
            <h3 class="text-xl font-semibold mb-4">今日小时预报</h3>
            <div class="weather-card overflow-x-auto">
                <div id="hourly-forecast" class="flex space-x-2 md:space-x-4 pb-2">
                    <!-- 小时预报项会通过JS动态生成 -->
                </div>
            </div>
        </section>

        <!-- 未来7天预报 -->
        <section class="mb-8">
            <h3 class="text-xl font-semibold mb-4">未来7天预报</h3>
            <div class="weather-card">
                <div id="daily-forecast" class="space-y-2">
                    <!-- 每日预报项会通过JS动态生成 -->
                </div>
            </div>
        </section>

        <!-- 空气质量和生活指数 -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- 空气质量 -->
            <div class="weather-card">
                <h3 class="text-xl font-semibold mb-4">空气质量</h3>
                <div class="flex flex-col md:flex-row items-center justify-between">
                    <div class="flex items-center mb-4 md:mb-0">
                        <div id="aqi-circle" class="w-20 h-20 rounded-full bg-green-500 flex items-center justify-center text-xl font-bold mr-4">
                            优
                        </div>
                        <div>
                            <p class="text-white/80 text-sm">AQI指数</p>
                            <p id="aqi-value" class="text-2xl font-medium">28</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-3 w-full md:w-auto">
                        <div class="bg-white/10 rounded-lg p-2 text-center">
                            <span class="text-xs text-white/70 block">PM2.5</span>
                            <span id="pm25" class="font-medium">12 μg/m³</span>
                        </div>
                        <div class="bg-white/10 rounded-lg p-2 text-center">
                            <span class="text-xs text-white/70 block">PM10</span>
                            <span id="pm10" class="font-medium">25 μg/m³</span>
                        </div>
                        <div class="bg-white/10 rounded-lg p-2 text-center">
                            <span class="text-xs text-white/70 block">O₃</span>
                            <span id="ozone" class="font-medium">85 μg/m³</span>
                        </div>
                        <div class="bg-white/10 rounded-lg p-2 text-center">
                            <span class="text-xs text-white/70 block">NO₂</span>
                            <span id="no2" class="font-medium">18 μg/m³</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 生活指数 -->
            <div class="weather-card">
                <h3 class="text-xl font-semibold mb-4">生活指数</h3>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                    <div class="bg-white/10 rounded-lg p-3 text-center">
                        <i class="fa-solid fa-sun text-xl mb-2 text-yellow-300"></i>
                        <span class="text-xs text-white/70 block">紫外线</span>
                        <span id="uv-index" class="font-medium">强</span>
                    </div>
                    <div class="bg-white/10 rounded-lg p-3 text-center">
                        <i class="fa-solid fa-shirt text-xl mb-2 text-blue-200"></i>
                        <span class="text-xs text-white/70 block">穿衣</span>
                        <span id="dressing-index" class="font-medium">薄外套</span>
                    </div>
                    <div class="bg-white/10 rounded-lg p-3 text-center">
                        <i class="fa-solid fa-running text-xl mb-2 text-green-300"></i>
                        <span class="text-xs text-white/70 block">运动</span>
                        <span id="sports-index" class="font-medium">适宜</span>
                    </div>
                    <div class="bg-white/10 rounded-lg p-3 text-center">
                        <i class="fa-solid fa-cloud-rain text-xl mb-2 text-blue-400"></i>
                        <span class="text-xs text-white/70 block">降雨</span>
                        <span id="rain-index" class="font-medium">无雨</span>
                    </div>
                    <div class="bg-white/10 rounded-lg p-3 text-center">
                        <i class="fa-solid fa-wind text-xl mb-2 text-purple-300"></i>
                        <span class="text-xs text-white/70 block">通风</span>
                        <span id="vent-index" class="font-medium">适宜</span>
                    </div>
                    <div class="bg-white/10 rounded-lg p-3 text-center">
                        <i class="fa-solid fa-temperature-half text-xl mb-2 text-red-300"></i>
                        <span class="text-xs text-white/70 block">舒适度</span>
                        <span id="comfort-index" class="font-medium">舒适</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="container mx-auto px-4 py-6 text-center text-white/70 text-sm">
        <p>© 2025 天气通 - 提供精准的天气预报服务</p>
        <p class="mt-1">数据来源：气象部门公开数据</p>
    </footer>

    <!-- JavaScript -->
    <script>
        // 模拟天气数据
        const weatherData = {
            // 当前天气
            current: {
                city: "北京市",
                temp: 22,
                tempUnit: "C",
                weather: "晴",
                weatherIcon: "sun",
                humidity: 65,
                windSpeed: 3.2,
                visibility: 10,
                pressure: 1012,
                feelsLike: 24,
                date: "2025年1月15日 星期三 14:30",
                bgType: "sunny"
            },
            // 小时级预报 (24小时)
            hourly: [
                { hour: "12点", temp: 20, weather: "晴", icon: "sun" },
                { hour: "13点", temp: 21, weather: "晴", icon: "sun" },
                { hour: "14点", temp: 22, weather: "晴", icon: "sun" },
                { hour: "15点", temp: 23, weather: "晴", icon: "sun" },
                { hour: "16点", temp: 22, weather: "晴", icon: "sun" },
                { hour: "17点", temp: 21, weather: "多云", icon: "cloud-sun" },
                { hour: "18点", temp: 19, weather: "多云", icon: "cloud-sun" },
                { hour: "19点", temp: 18, weather: "多云", icon: "cloud-sun" },
                { hour: "20点", temp: 17, weather: "少云", icon: "cloud-moon" },
                { hour: "21点", temp: 16, weather: "少云", icon: "cloud-moon" }
            ],
            // 7天预报
            daily: [
                { day: "今天", tempMin: 12, tempMax: 22, weather: "晴", icon: "sun" },
                { day: "周四", tempMin: 13, tempMax: 21, weather: "多云", icon: "cloud-sun" },
                { day: "周五", tempMin: 14, tempMax: 20, weather: "阴转小雨", icon: "cloud-rain" },
                { day: "周六", tempMin: 12, tempMax: 18, weather: "小雨", icon: "rain" },
                { day: "周日", tempMin: 10, tempMax: 17, weather: "多云", icon: "cloud" },
                { day: "周一", tempMin: 11, tempMax: 19, weather: "晴", icon: "sun" },
                { day: "周二", tempMin: 12, tempMax: 20, weather: "晴转多云", icon: "cloud-sun" }
            ],
            // 空气质量
            aqi: {
                level: "优",
                value: 28,
                color: "bg-green-500",
                pm25: 12,
                pm10: 25,
                ozone: 85,
                no2: 18
            },
            // 生活指数
            lifeIndex: {
                uv: "强",
                dressing: "薄外套",
                sports: "适宜",
                rain: "无雨",
                vent: "适宜",
                comfort: "舒适"
            }
        };

        // DOM元素
        const cityNameEl = document.getElementById('city-name');
        const currentTempEl = document.getElementById('current-temp');
        const currentWeatherIconEl = document.getElementById('current-weather-icon');
        const weatherDescEl = document.getElementById('weather-desc');
        const currentDateEl = document.getElementById('current-date');
        const humidityEl = document.getElementById('humidity');
        const windSpeedEl = document.getElementById('wind-speed');
        const visibilityEl = document.getElementById('visibility');
        const pressureEl = document.getElementById('pressure');
        const hourlyForecastEl = document.getElementById('hourly-forecast');
        const dailyForecastEl = document.getElementById('daily-forecast');
        const aqiCircleEl = document.getElementById('aqi-circle');
        const aqiValueEl = document.getElementById('aqi-value');
        const pm25El = document.getElementById('pm25');
        const pm10El = document.getElementById('pm10');
        const ozoneEl = document.getElementById('ozone');
        const no2El = document.getElementById('no2');
        const uvIndexEl = document.getElementById('uv-index');
        const dressingIndexEl = document.getElementById('dressing-index');
        const sportsIndexEl = document.getElementById('sports-index');
        const rainIndexEl = document.getElementById('rain-index');
        const ventIndexEl = document.getElementById('vent-index');
        const comfortIndexEl = document.getElementById('comfort-index');
        const unitTextEl = document.getElementById('unit-text');
        const unitToggleBtn = document.getElementById('unit-toggle');
        const searchBtn = document.getElementById('search-btn');
        const cityInput = document.getElementById('city-input');
        const bodyEl = document.body;

        // 初始化页面数据
        function initWeatherData() {
            // 更新当前天气
            cityNameEl.textContent = weatherData.current.city;
            currentTempEl.textContent = weatherData.current.temp;
            currentWeatherIconEl.className = `fa-solid fa-${weatherData.current.weatherIcon} text-5xl md:text-6xl mr-4 text-yellow-300`;
            weatherDescEl.textContent = `${weatherData.current.weather} | 体感温度 ${weatherData.current.feelsLike}°C`;
            currentDateEl.textContent = weatherData.current.date;
            humidityEl.textContent = `${weatherData.current.humidity}%`;
            windSpeedEl.textContent = `${weatherData.current.windSpeed} km/h`;
            visibilityEl.textContent = `${weatherData.current.visibility} km`;
            pressureEl.textContent = `${weatherData.current.pressure} hPa`;

            // 设置背景
            bodyEl.className = `transition-bg ${weatherData.current.bgType}-bg font-sans`;

            // 渲染小时预报
            renderHourlyForecast();

            // 渲染7天预报
            renderDailyForecast();

            // 更新空气质量
            aqiCircleEl.textContent = weatherData.aqi.level;
            aqiCircleEl.className = `w-20 h-20 rounded-full ${weatherData.aqi.color} flex items-center justify-center text-xl font-bold mr-4`;
            aqiValueEl.textContent = weatherData.aqi.value;
            pm25El.textContent = `${weatherData.aqi.pm25} μg/m³`;
            pm10El.textContent = `${weatherData.aqi.pm10} μg/m³`;
            ozoneEl.textContent = `${weatherData.aqi.ozone} μg/m³`;
            no2El.textContent = `${weatherData.aqi.no2} μg/m³`;

            // 更新生活指数
            uvIndexEl.textContent = weatherData.lifeIndex.uv;
            dressingIndexEl.textContent = weatherData.lifeIndex.dressing;
            sportsIndexEl.textContent = weatherData.lifeIndex.sports;
            rainIndexEl.textContent = weatherData.lifeIndex.rain;
            ventIndexEl.textContent = weatherData.lifeIndex.vent;
            comfortIndexEl.textContent = weatherData.lifeIndex.comfort;
        }

        // 渲染小时预报
        function renderHourlyForecast() {
            hourlyForecastEl.innerHTML = '';
            
            weatherData.hourly.forEach(hour => {
                const hourCard = document.createElement('div');
                hourCard.className = 'hourly-card min-w-[60px]';
                
                let iconColor = 'text-yellow-300';
                if (hour.icon.includes('cloud')) iconColor = 'text-gray-200';
                if (hour.icon.includes('moon')) iconColor = 'text-blue-200';
                if (hour.icon.includes('rain')) iconColor = 'text-blue-400';
                
                hourCard.innerHTML = `
                    <span class="text-sm">${hour.hour}</span>
                    <i class="fa-solid fa-${hour.icon} text-xl my-2 ${iconColor}"></i>
                    <span class="font-medium">${hour.temp}°C</span>
                    <span class="text-xs text-white/70 mt-1">${hour.weather}</span>
                `;
                
                hourlyForecastEl.appendChild(hourCard);
            });
        }

        // 渲染7天预报
        function renderDailyForecast() {
            dailyForecastEl.innerHTML = '';
            
            weatherData.daily.forEach(day => {
                const dayCard = document.createElement('div');
                dayCard.className = 'daily-card';
                
                let iconColor = 'text-yellow-300';
                if (day.icon.includes('cloud')) iconColor = 'text-gray-200';
                if (day.icon.includes('rain')) iconColor = 'text-blue-400';
                
                dayCard.innerHTML = `
                    <div class="flex items-center">
                        <span class="w-16 text-left">${day.day}</span>
                        <i class="fa-solid fa-${day.icon} text-lg mx-3 ${iconColor}"></i>
                        <span class="text-white/80 text-sm">${day.weather}</span>
                    </div>
                    <div class="flex items-center">
                        <span class="text-white/70 text-sm mr-2">${day.tempMin}°</span>
                        <span class="font-medium">${day.tempMax}°</span>
                    </div>
                `;
                
                dailyForecastEl.appendChild(dayCard);
            });
        }

        // 切换温度单位 (C/F)
        let isCelsius = true;
        unitToggleBtn.addEventListener('click', () => {
            isCelsius = !isCelsius;
            
            if (isCelsius) {
                // 切换到摄氏度
                unitTextEl.textContent = '°C';
                currentTempEl.textContent = weatherData.current.temp;
                weatherDescEl.textContent = `${weatherData.current.weather} | 体感温度 ${weatherData.current.feelsLike}°C`;
                
                // 更新小时预报
                weatherData.hourly.forEach((hour, index) => {
                    const tempEl = hourlyForecastEl.children[index].querySelector('.font-medium');
                    tempEl.textContent = `${hour.temp}°C`;
                });
                
                // 更新7天预报
                weatherData.daily.forEach((day, index) => {
                    const tempEls = dailyForecastEl.children[index].querySelectorAll('span');
                    tempEls[tempEls.length-2].textContent = `${day.tempMin}°`;
                    tempEls[tempEls.length-1].textContent = `${day.tempMax}°`;
                });
            } else {
                // 切换到华氏度
                unitTextEl.textContent = '°F';
                const tempF = Math.round(weatherData.current.temp * 9/5 + 32);
                const feelsLikeF = Math.round(weatherData.current.feelsLike * 9/5 + 32);
                currentTempEl.textContent = tempF;
                weatherDescEl.textContent = `${weatherData.current.weather} | 体感温度 ${feelsLikeF}°F`;
                
                // 更新小时预报
                weatherData.hourly.forEach((hour, index) => {
                    const tempF = Math.round(hour.temp * 9/5 + 32);
                    const tempEl = hourlyForecastEl.children[index].querySelector('.font-medium');
                    tempEl.textContent = `${tempF}°F`;
                });
                
                // 更新7天预报
                weatherData.daily.forEach((day, index) => {
                    const tempMinF = Math.round(day.tempMin * 9/5 + 32);
                    const tempMaxF = Math.round(day.tempMax * 9/5 + 32);
                    const tempEls = dailyForecastEl.children[index].querySelectorAll('span');
                    tempEls[tempEls.length-2].textContent = `${tempMinF}°`;
                    tempEls[tempEls.length-1].textContent = `${tempMaxF}°`;
                });
            }
        });

        // 搜索城市
        searchBtn.addEventListener('click', () => {
            const city = cityInput.value.trim();
            if (city) {
                // 模拟搜索效果
                cityNameEl.textContent = city;
                cityInput.value = '';
                
                // 显示加载状态
                currentTempEl.textContent = '--';
                weatherDescEl.textContent = '加载中...';
                
                // 模拟API请求延迟
                setTimeout(() => {
                    // 恢复数据（实际项目中这里会调用真实的天气API）
                    initWeatherData();
                }, 800);
            }
        });

        // 按回车搜索
        cityInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                searchBtn.click();
            }
        });

        // 初始化页面
        document.addEventListener('DOMContentLoaded', () => {
            initWeatherData();
        });
    </script>
</body>
</html>